@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	/* Ottimizzazione rendering font */
	html {
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		text-rendering: optimizeLegibility;
		font-family:
			"Inter",
			-apple-system,
			BlinkMacSystemFont,
			"Segoe UI",
			Roboto,
			"Helvetica Neue",
			Arial,
			sans-serif;
	}

	/* Typography base */
	body {
		@apply font-sans text-base text-gray-900 dark:text-gray-100;
		font-feature-settings:
			"kern" 1,
			"liga" 1,
			"calt" 1;
		/* Previene layout shift durante il caricamento del font */
		font-synthesis: none;
		-webkit-text-size-adjust: 100%;
	}

	/* Headings ottimizzati */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-bold text-gray-900 dark:text-gray-100;
		font-feature-settings:
			"kern" 1,
			"liga" 1,
			"calt" 1,
			"ss01" 1;
		/* Contenimento del layout per prevenire shift */
		contain: layout style paint;
	}

	h1 {
		@apply text-4xl md:text-5xl lg:text-6xl;
	}

	h2 {
		@apply text-2xl md:text-3xl lg:text-4xl;
	}

	h3 {
		@apply text-lg md:text-xl lg:text-2xl;
	}

	h4 {
		@apply text-xl md:text-2xl;
	}

	/* Paragrafi ottimizzati */
	p {
		@apply leading-relaxed;
	}

	/* Link ottimizzati */
	a {
		@apply transition-colors duration-200 text-gray-800 dark:text-gray-200;
	}

	a:hover {
		@apply text-gray-600 dark:text-gray-400;
	}

	/* Strong e emphasis */
	strong,
	b {
		@apply font-semibold;
	}

	em,
	i {
		@apply italic;
	}
}

@layer utilities {
	/* Utility classes custom per typography */
	.text-balance {
		text-wrap: balance;
	}

	.text-pretty {
		text-wrap: pretty;
	}

	/* Previeni layout shift per elementi con contenuto dinamico */
	.prevent-shift {
		contain: layout style paint;
		content-visibility: auto;
	}

	/* Ottimizza rendering immagini */
	img {
		contain: size layout paint;
	}
}
